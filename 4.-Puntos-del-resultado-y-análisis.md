## Tablas de direccionamiento

Tabla subneteo:

<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p>

Subnet Description | Number of Hosts Needed | Network Address/CIDR | First Usable Host Address | Broadcast Address
-- | -- | -- | -- | --
Intranet | 950 | 2001:1200:a4::/64 | 2001:1200:a4::1 | /64
DNZ/ISP BOG links | 6 | 2001:1200:c4::/64 | 2001:1200:c4::1 | /64
Internet | 8 | 190.85.204.0 | 190.85.204.1 | 190.85.204.255
Intranet MAD | 50 | 2001:1200:B4::/48 | 2001:1200:b4::1 | /50
ISP_ESP link | x | 2001:1200:D4::/48 | 2001:1200:D4::1 | /49

<p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p></html>


Tabla direccionamiento:

Intranet BOG


<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p><div align="center" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">

Dispositivo | Interfaz | Dirección IP | Máscara de subred
-- | -- | -- | --
PC1 | NIC | DHCP(VLAN 50) | DHCP
PC2 | NIC | DHCP(VLAN 100) | DHCP
PC3 | NIC | DHCP(VLAN 50) | DHCP
PC4 | NIC | DHCP ( VLAN 100) | DHCP
Switch1 | VLAN 99 | 2001:1200:A4:99::2 | /64
Switch2 | VLAN 99 | 2001:1200:A4:99::3 | /64
Switch3 | VLAN 99 | 2001:1200:A4:99::4 | /64
DHCP | NIC | 2001:1200:A4:FE::2 | /64

</div><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p></html>


DMZ

<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><div align="center" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">

Dispositivo | Interfaz | Dirección IP | Máscara de subred
-- | -- | -- | --
Servidor web | NIC | 2001:1200:C4::2 | /64
Servidor DNS | NIC | 2001:1200:C4:1::2 | /64
Switch DMZ | NIC | 2001:1200:C4:2::2 | /64
R1 – ISP_BOG | NIC | 2001:1200:C4:3::2 | /64

</div></html>

Loopback

<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="EN-US"><o:p> </o:p></span></p><div align="center" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">

Dispositivo | Interfaz | Dirección IP | Máscara de subred
-- | -- | -- | --
ISP_BOG – R1 | NIC | 2001:1200:E4::2 | /48

</div></html>

Intranet MAD

<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><div align="center" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">

Dispositivo | Interfaz | Dirección IP | Máscara de subred
-- | -- | -- | --
SW5 | NIC | 2001:1200:B4:1::1 | /50
SW6 | NIC | 2001:1200:B4:1::2 | /50
Multilayer SW | NIC | 2001:1200:B4:1::3 | /50
PC5 | NIC | DHCP(VLAN 25) | DHCP
PC6 | NIC | DHCP VLAN 100) | DHCP
PC7 | NIC | DHCP (VLAN 100) | DHCP
PC8 | NIC | DHCP(VLAN 25) | DHCP

</div></html>



Asignación de Vlan intranet BOG


<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><div align="center" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">

Puertos | Asignación | ID. Red | PCs
-- | -- | -- | --
Fa0/7-10 | VLAN 50: Ing | 2001:1200:A4:50::/64 | 1, 3
F a0/11-15 | VLAN 100: Tech | 2001:1200:A4:fe::/64 | 2, 4
Fa0/2-6 | VLAN 99: Native | 2001:1200:A4:99::/64 | N/A

</div></html>


Asignación de Vlan Intranet MAD

<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40"><p class="MsoNormal" style="margin: 0cm; font-size: medium; font-family: &quot;Times New Roman&quot;, serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"><span lang="ES"><o:p> </o:p></span></p><div align="center" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">

Puertos | Asignación | ID. Red | PCs
-- | -- | -- | --
Fa0/7-10 | VLAN 25: Treasury | 2001:1200:B4:4000::/50 | 5, 8
Fa0/11-15 | VLAN 100: Vice | 2001:1200:B4:8000::/50 | 6, 7
Fa0/2-6 | VLAN 1: Native | 2001:1200:B4::/50 | N/A

</div></html>

## Análisis de los servicios requeridos

Para el correcto funcionamiento de la red empresarial se requirió dos servidores, uno que brinda el DNS y otro la pagina Web. Para que todo funcione bien se requiere realizar enrutamiento, encapsulación, DHCP, tunneling y como un requerimiento adicional se agregó una Access List, para lograr todos los requerimientos se necesito realizar diferentes procesos, a continuación alguno de ellos. 

Trunk: 

* Switch3(config)#interface range fa0/1-5
* Switch3(config-if-range)#switchport mode trunk
* Switch3(config-if-range)#switchport trunk native vlan 99
* Switch3(config-if-range)#no shutdown 
* Switch3(config-if-range)#exit


Encapsulación por vlan para Router:

* Router1(config)#Interface fa0/1.10
* Router1(config-if-range)#Encapsulation dot1q 10
* Router1(config-if-range)#Ip adress “Dirección”
* -	Exit
* -	Interface fa0/1.15
* -	Encapsulation dot1q 15
* -	Ip adress “Dirección”
* -	Exit
* -	Interface fa0/1.30
* -	Encapsulation dot1q 30
* -	Ip adress “Dirección”
* -	Exit
* -	Interface fa0/1.99
* -	Encapsulation dot1q 99 native
* -	Ip adress “Dirección”



Loopback:

* R1_BOG(config-if)#interface loopback 0
* R1_BOG(config-if)#ip address 209.100.4.1 255.255.255.0
* R1_BOG(config-if)#exit


OSPF:	

* R1# configure terminal
* R1(config)# interface fastEthernet 0/0
* R1(config-if)# ip address 192.168.1.1 255.255.255.0
* R1(config-if)# exit
* R1(config)# router ospf 1
* R1(config-router)# network 192.168.1.0 0.0.0.255 area 

OSPFv3:

EIGRP:

EIGRPv2:

Tunneling:

* interface tunnel 0
* ipv6 address 2001:DB8::1/64
* tunnel mode ipv6ip
* tunnel destination 2001:DB8::2

Access List:

*   ipv6 access-list WEB-ACL
*   permit tcp <dirección IPv6 de la vlan ING> host <dirección IPv6 del servidor> eq 443
*   permit tcp <dirección IPv6 de la vlan de Tecnología> host <dirección IPv6 del servidor> eq 80
*   permit tcp <dirección IPv6 de la vlan de Tecnología> host <dirección IPv6 del servidor> eq 443
*   deny tcp any host <dirección IPv6 del servidor> eq 80
*   permit ipv6 any any

*   ipv6 access-list WEB-ACL
*   deny tcp <dirección IPv6 de la vlan Vice> host <dirección IPv6 del servidor> eq 80
*   deny tcp <dirección IPv6 de la vlan Vice> host <dirección IPv6 del servidor> eq 443
*   permit ipv6 any any

*   ipv6 access-list WEB-ACL
*   permit tcp <dirección IPv6 de la red de Tesorería> host <dirección IPv6 del servidor> eq 443
*   deny tcp any host <dirección IPv6 del servidor> eq 80
*   permit ipv6 any any

*   interface <nombre de la interfaz>
*   ipv6 traffic-filter WEB-ACL in

DHCP:

*  ipv6 dhcp pool VLAN1-POOL
*  address prefix 2001:db8:1:1::/64

*  ipv6 dhcp pool VLAN2-POOL
*  address prefix 2001:db8:2:1::/64

*  ipv6 dhcp pool VLAN3-POOL
*  address prefix 2001:db8:3:1::/64


* ipv6 dhcp pool VLAN1-POOL
*  default-router 2001:db8:1:1::1
*  dns-server 2001:db8:1:1::2
*  domain-name example.com

* ipv6 dhcp pool VLAN2-POOL
*  default-router 2001:db8:2:1::1
*  dns-server 2001:db8:2:1::2
*  domain-name example.com

* ipv6 dhcp pool VLAN3-POOL
*  default-router 2001:db8:3:1::1
*  dns-server 2001:db8:3:1::2
*  domain-name example.com


* interface vlan1
*  ipv6 address autoconfig
*  ipv6 dhcp client pd VLAN1-POOL

* interface vlan2
*  ipv6 address autoconfig
*  ipv6 dhcp client pd VLAN2-POOL

* interface vlan3
*  ipv6 address autoconfig
*  ipv6 dhcp client pd VLAN3-POOL

## Analizar el flujo bidireccional de datos

Al momento de realizar telnet desde el PC1 hasta el servidor web por los dos puertos se puede evidenciar como por  el 443 lo logra pero por el 80 es imposible.

<img width="697" alt="Screenshot 2023-02-18 at 11 02 34 PM" src="https://user-images.githubusercontent.com/93276000/219920868-f555d6ee-2ec4-4e0e-a346-e79cdb7acac8.png">

Cuando hacemos la simulación podemos notar que si el mensaje se manda por 443 el mensaje pasa por cada uno de los dispositivos sin ningún problema. 

<img width="1440" alt="Screenshot 2023-02-18 at 11 08 21 PM" src="https://user-images.githubusercontent.com/93276000/219921674-1902fb08-b567-4139-a010-a4b820d94aaa.png">
<img width="1440" alt="Screenshot 2023-02-18 at 11 06 06 PM" src="https://user-images.githubusercontent.com/93276000/219921688-02f99bc4-700c-4126-bbd7-d46a93a850f4.png">

De lo contrario, cuando el mensaje se envía por el puerto 80, es bloqueado por el router. 

<img width="1440" alt="Screenshot 2023-02-18 at 11 10 02 PM" src="https://user-images.githubusercontent.com/93276000/219921718-02ccd507-c8d4-4a9f-86fe-75b5489a1a4c.png">
